{% extends "website/base.html" %}
{% load crispy_forms_tags %}

{% block content %}
<br>
<div class="container">
    <form method="POST" action="{% url 'addrec' %}">
        {% csrf_token %}

        <!-- Individual fields for spacing -->
        <div class="form-group mb-3">
            <label>Name</label>
            {{ form.username|as_crispy_field }}
        </div>

        <div class="form-group mb-3">
            <label>Email</label>
            {{ form.email|as_crispy_field }}
        </div>

        <div class="form-group mb-3">
            <label>Contact</label>
            {{ form.PhNo|as_crispy_field }}
        </div>

        <!-- Created date field with Today button -->
        <div class="form-group mb-3">
            <label>Created Date</label>
            <div class="input-group">
                {{ form.Created }}
                <button type="button" class="btn btn-info ml-2" onclick="setToday()">Today</button>
            </div>
        </div>

        <!-- Submit button with spacing -->
        <div class="form-group mb-3">
            <button type="submit" class="btn btn-success">Add</button>
            <a href="{%url 'home' %}" class="btn btn-secondary">Go Back</a>
        </div>
    </form>
</div>

<script>
    function setToday() {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById("id_Created").value = today;
    }
</script>
{% endblock content %}
